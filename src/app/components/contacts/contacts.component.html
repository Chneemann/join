<section>
  <div
    class="left-frame"
    [ngClass]="{ 'd-none': !showAllUsers && currentUserId != undefined }"
  >
    <button class="btn" type="submit">
      <div class="btn-inside">
        <span>Add new contact</span>
        <img src="./../../../assets/img/contact/add.svg" alt="check" />
      </div>
      <div class="btn-inside-mobile">
        <img src="./../../../assets/img/contact/add.svg" alt="check" />
      </div>
    </button>
    <div class="content">
      @for (sortLetter of this.sortFirstLetter(); track sortLetter) {
      <div class="first-letter">{{ sortLetter }}</div>
      <div class="line"></div>
      @for (user of this.sortUsersByFirstLetter(sortLetter); track user; let
      index = $index) {
      <div
        class="contact"
        routerLink="/contacts/{{ user.id }}"
        [ngClass]="{
          'contact-active': currentUserId === user.id
        }"
      >
        <div
          class="circle"
          [ngStyle]="{
            'background-color': firebaseService.getUserDetails(user.id, 'color')
          }"
        >
          <div class="initials">
            {{ firebaseService.getUserDetails(user.id, "initials") }}
          </div>
        </div>
        <div class="details">
          <div class="name">
            <p>
              {{ firebaseService.getUserDetails(user.id, "firstName") }}
            </p>
            <span>,&nbsp;</span>
            <p class="last-name">
              {{ firebaseService.getUserDetails(user.id, "lastName") }}
            </p>
          </div>
          <div class="email">
            {{ firebaseService.getUserDetails(user.id, "email") }}
          </div>
        </div>
      </div>
      } }
    </div>
  </div>
  <div class="right-frame">
    <app-contact-detail
      [ngClass]="{ 'd-none': !showAllUsers && currentUserId == undefined }"
      [currentUserId]="currentUserId"
    ></app-contact-detail>
  </div>
</section>
