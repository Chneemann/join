<section *ngIf="task.id">
  <div
    class="content"
    draggable="true"
    (dragstart)="dragDropService.startDragging($event, task.id)"
  >
    <div
      class="category"
      [style.background-color]="categoryColors.get(task.category)"
    >
      {{ task.category }}
    </div>
    <div class="headline">{{ task.title }}</div>
    <div class="description">
      {{ task.description }}
    </div>
    <ng-container *ngIf="task.subtasksTitle.length > 0">
      <div class="subtask">
        <div class="subtask-line">
          <span
            class="filler-full"
            [style.width.%]="completedSubtasksPercent()"
          ></span>
        </div>
        <div class="subtask-text">
          {{ completedSubtasks() }} / {{ task.subtasksTitle.length }} Subtasks
        </div>
      </div>
    </ng-container>
    <div class="footer">
      <div class="footer-badge">
        <ng-container *ngIf="task.assigned">
          <div *ngFor="let assigned of task.assigned; index as i">
            <span class="footer-badged"></span>
          </div>
        </ng-container>
      </div>
      <div class="footer-priority prio-{{ task.priority }}"></div>
    </div>
  </div>
</section>
